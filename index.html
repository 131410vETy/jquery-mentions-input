<!DOCTYPE HTML>
<html>
<head>
  <title>jquery.mentionsInput</title>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.4.1/build/cssreset/cssreset-min.css">
  <link href='https://fonts.googleapis.com/css?family=PT+Sans&subset=latin' rel='stylesheet' type='text/css'>
  <link href='assets/style.css' rel='stylesheet' type='text/css'>
  <link href='jquery.mentionsInput.css' rel='stylesheet' type='text/css'>

  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js' type='text/javascript'></script>
  <script src='http://documentcloud.github.com/underscore/underscore-min.js' type='text/javascript'></script>
</head>
<body>

  <div class="container">

    <h1>jquery.mentionsInput</h1>

    <p>
      <a>jquery.mentionsInput</a> is small, but awesome UI component that allows you to "@mention" someone in a text message, just like you are used to on Facebook or Twitter.
    </p>

    <p>This project started as internal project at <a href="http://podio.com">Podio</a>, and is written by <a href="http://kenneth.io">Kenneth Auchenberg</a>, but has been open sourced to give it a life in  the open source community.</p>


    <h2 id="examples">Examples</h2>
    <p>Examples goes below </p>
    <textarea class='mention' placeholder='Try to mention me, by typing @Ken'></textarea>

    <script>

      $(function() {

        $('textarea.mention').mentionsInput( {
          onDataRequest: function(mode, query, callback) {
            var data =  [
              { id : 1, name : 'Kenneth Auchenberg', 'avatar' : 'url', 'type' : 'contact' },
              { id : 2, name : 'Jon Froda', 'avatar' : 'url', 'type' : 'contact' },
              { id : 3, name : 'Anders Pollas', 'avatar' : 'url', 'type' : 'contact' },
              { id : 4, name : 'Kenneth Auchenberg', 'avatar' : 'url', 'type' : 'contact' }
            ];

            callback.call(this, data);
          }
        });
      });
    </script>

    <h2 id="get_started">Getting started</h2>
    <ol>
      <li>
        Add a script reference to jquery.mentionsInput.js:<br />
        <pre>&lt;script src=&#39;jquery.mentionsInput.js&#39; type=&#39;text/javascript&#39;&gt;&lt;/script&gt;</pre>
      </li>
      <li>
        Add a bit of markup: <br />
        <pre>&lt;textarea class=&#39;mention&#39;&gt;</pre>
      </li>
      <li>
        <p>Initialise the mentionsInput:  <br />
          <pre>
$('textarea.mention').mentionsInput( {
  onDataRequest: function(mode, query, callback) {
    var data =  [
      { id : 1, name : 'Kenneth Auchenberg', 'avatar' : 'url', 'type' : 'contact' },
      { id : 2, name : 'Jon Froda', 'avatar' : 'url', 'type' : 'contact' },
      { id : 3, name : 'Anders Pollas', 'avatar' : 'url', 'type' : 'contact' },
      { id : 4, name : 'Kenneth Auchenberg', 'avatar' : 'url', 'type' : 'contact' }
    ];

    callback.call(this, data);
  }
});
          </pre>
        </p>

        <p>
          Bam, you are in business.
        </p>
      </li>
    </ol>

    <h2 id="configuration">Configuration</h2>

    <p>jquery.mentionsInput does have number of extra configuration options that you may change to customize the way jquery.mentionsInput behaves.</p>
    <p>The meaning of the options and their default values are listed below. </p>

    <table>
      <tr>
        <td><b>onDataRequest(mode, query, callback)</b></td>
        <td><tt>function</tt></td>
        <td class="definition">
          This function is the callback function which is used to perform a search for a mention. When a search is started this function is called with arguments 'search', the query (whats typed), and the callback which is pointing to an internal populate method, which expects the search data as first argument.
        </td>
      </tr>
      <tr>
        <td><b>triggerChar</b></td>
        <td><tt>@</tt></td>
        <td class="definition">
          Trigger character which is used to trigger the mention search, when the character has been typed into the mentions input field.
        </td>
      </tr>
      <tr>
        <td><b>minChars</b></td>
        <td><tt>2</tt></td>
        <td class="definition">
          The amount of characters after the trigger character before a search is performed.
        </td>
      </tr>
      <tr>
        <td><b>showAvatars</b></td>
        <td><tt>true&nbsp;|&nbsp;false</tt></td>
        <td class="definition">
          Option to toggle if items within autocomplete-dropdown should be rendered with an icon/avatar.
        </td>
      </tr>
      <tr>
        <td><b>elastic</b></td>
        <td><tt>true&nbsp;|&nbsp;false</tt></td>
        <td class="definition">
          Option to toggle if the mentions component should auto-grow when creating new lines (elastic behaviour). <b>This requires jquery.elastic.js to be around.</b>
        </td>
      </tr>
      <tr>
        <td><b>classes</b></td>
        <td><tt>object</tt></td>
        <td class="definition">
          Object which contains key/value pairs of classes used in the layout
        </td>
      </tr>
      <tr>
        <td><b>templates</b></td>
        <td><tt>object</tt></td>
        <td class="definition">
          Object which contains key/value pairs of templates used to render the layout.
        </td>
      </tr>
    </table>

    <h2 id="methods">Methods</h2>

    <p>jquery.mentionsInput does expose a number of public methods, you can call on an instance. </p>

    <table>
      <tr>
        <td><b>init</b></td>
        <td></td>
        <td class="definition">
          Initialising the MentionsInput component on a specific element.
        </td>
      </tr>
      <tr>
        <td><b>reset</b></td>
        <td></td>
        <td class="definition">
          Resets the component, clears any mentions.
        </td>
      </tr>
      <tr>
        <td><b>val(callback)</b></td>
        <td></td>
        <td class="definition">
          Async methods which accepts an callback, and returns the value of the syntaxed version of the input field , as the first argument to the callback function. <br /><br /> This is the value you want to send to your server.
        </td>
      </tr>
      <tr>
        <td><b>getMentions(callback)</b></td>
        <td></td>
        <td class="definition">
          Async methods which accepts an callback, and returns a collection of mentions as objects.
        </td>
      </tr>
    </table>

    <h2>Search data structure</h2>

    <p>When the component is preforming a search, its expecting a specific data structure to be returned. </p>

    <h2>Syntaxed mention text </h2>

    <p>When the component is preforming a search, its expecting a specific data structure to be returned. </p>

    <h2>Browser support</h2>

    <p>We have tested jquery.mentionsInput in Firefox 6+, Chrome 15+, and Internet Explorer 8+. </p>
    <p>Please let us know if you see any weirdness. And no, we will no make it work for older browsers. Period. </p>

    <h2>Dependencies</h2>

    <p>jquery.mentionsInput is written as a jQuery extension, so it naturally requires jQuery. In addition to jQuery, it also depends on underscore.js, which is used to simplify stuff a bit.</p>
    <p>The component itself is implemented as a small independent function, so it would easily be ported to other frameworks than jQuery. </p>
    <p>Furthermore all utility functions has been centralized in the utils-object, which can be replaced with references if you already got functions to htmlEncode, etc. </p>


    <h2 id="changes">Change Log</h2>

    <p>
      <b class="header">1.0.0</b><br />
      Initial release.
    </p>


  </div>

  <script src='jquery.elastic.js' type='text/javascript'></script>
  <script src='jquery.mentionsInput.js' type='text/javascript'></script>

</body>
</html>